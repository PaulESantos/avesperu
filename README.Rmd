---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
library(tidyverse)
```

# avesperu

<!-- badges: start -->
[![Lifecycle: stable](https://img.shields.io/badge/lifecycle-stable-green.svg)](https://lifecycle.r-lib.org/articles/stages.html#stable)
[![CRAN status](https://www.r-pkg.org/badges/version/avesperu)](https://CRAN.R-project.org/package=avesperu)
[![R-CMD-check](https://github.com/PaulESantos/avesperu/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/PaulESantos/avesperu/actions/workflows/R-CMD-check.yaml)
[![](http://cranlogs.r-pkg.org/badges/grand-total/avesperu?color=green)](https://cran.r-project.org/package=avesperu)
[![](http://cranlogs.r-pkg.org/badges/last-week/avesperu?color=green)](https://cran.r-project.org/package=avesperu)
<!-- badges: end -->

The `avesperu` package opens the door to Peru's extraordinary birds, comprising approximately 1,892 species, making it one of the world's most diverse bird-rich countries. This comprehensive R package provides users with access to the meticulously documented "List of the Birds of Peru" by M. A. Plenge. It's worth noting that avian taxonomy is dynamic, with dramatic changes over time. Bird species categorization has been refined based on articles, published photographs, sound recordings from accredited institutions, and more.

The species list follows the taxonomic classification endorsed by the South American Checklist Committee (SACC), which assigns species codes reflecting their residency status, endemism, migratory behavior, vagrancy, introductions, extirpation, and hypothetical presence. As of now, SACC is in the process of recognizing certain subspecies as full species, a development that will alter the species count. The "H" category, which signifies hypothetical species, is now ranked fifth in South America, following Argentina, Bolivia, Colombia, and Ecuador. It is anticipated that this ranking could diminish further if well-documented records are published. 

```{r echo=FALSE}
tibble::tibble(year = c(1968, 1980, 2001, 2007, 
                        2010, 2015, 2020, 2021,
                        2022, 2023),
               species = c(1491, 1678, 1800, 1800, 
                           1820, 1851, 1870, 1874, 
                           1888, 1891)) |> 
  ggplot2::ggplot(ggplot2::aes(year,
             species)) +
  ggplot2::geom_line(ggplot2::aes(group = 1)) +
  ggplot2::geom_point(color = "red") +
  ggplot2::labs(x = "Year",
       y = "Number of species") +
  ggplot2::scale_x_continuous(guide = ggplot2::guide_axis(n.dodge = 2),
  breaks = c(1968, 1980, 2001, 2007, 
                        2010, 2015, 2020, 2021,
                        2022, 2023),
  labels = c(1968, 1980, 2001, 2007, 
                        2010, 2015, 2020, 2021,
                        2022, 2023)) +
  ggplot2::theme_bw()
```


Suggested citation:

```{r}
citation("avesperu")
```

## Installation

You can install the `avesperu` package from CRAN using:

```r
install.packages("avesperu")
# or
pak::pak("avesperu")
```

Also you can install the development version of `avesperu` like so:

``` r
pak::pak("PaulESantos/avesperu")
```

## Usage

Here's a quick example of how to use the `avesperu` package:



```{r}
library(avesperu)

splist <- c("Falco sparverius",
            "Tinamus osgodi",
            "Crypturellus sooui",
            "Thraupisa palamarum",
            "Thamnophilus praecox")

search_avesperu(splist = splist, max_distance = 0.05)

```

- The package not only provides access to the list of bird species recorded in Peru but also excels in resolving potential typos or variations in species names through fuzzy matching. It ensures accurate retrieval by intelligently recognizing and accommodating slight discrepancies in the input names, making it a robust tool for working with diverse and sometimes inconsistent datasets.

```{r}
splist <- c("Falco sparverius",
            "Tinamus osgodi",
            "Crypturellus sooui",
            "Thraupisa palamarum",
            "Thraupisa palamarum",
            "Thamnophilus praecox")

search_avesperu(splist = splist, max_distance = 0.1)

```
